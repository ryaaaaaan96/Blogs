# 初始化

## 规则 9.1：所有自动变量在使用前都应被赋值

- 必须

未初始化的自动变量（即函数内部的非静态局部变量）在声明时不会被自动初始化，其值是不确定的。在赋值前使用这些变量会导致未定义行为，可能引发严重的程序错误。

## 规则 9.2：初始化表达式中子表达式的求值顺序是未指定的

- 建议

在初始化列表中，如果包含多个带有副作用的子表达式（例如函数调用），C标准并未规定它们的执行顺序。依赖于特定的求值顺序会导致代码在不同编译器或优化级别下表现不一致，应避免这种情况。

## 规则 9.3：数组不应被部分初始化

- 建议

当使用初始化列表初始化数组时，如果提供的初始值数量少于数组元素数量，剩余的元素会被自动初始化为零。这种隐式的初始化可能会使代码意图不明确，或隐藏因数组大小计算错误而导致的问题。建议要么完整地初始化整个数组，要么完全不使用初始化列表（并在后续代码中赋值）。

## 规则 9.4：对象的元素不应被多次初始化

- 必须

在同一个初始化列表中，一个聚合对象（如数组、结构体）的同一个元素不应被初始化超过一次。这通常在使用指定初始化器（designated initializers）时发生，属于逻辑错误。

## 规则 9.5：使用指定初始化器时应明确指定数组大小

- 必须

当使用指定初始化器来初始化数组时，数组的大小必须被显式地指定。如果不指定大小，数组的长度将由最大的初始化索引决定，这可能不是程序员的本意，并可能导致后续访问越界。
