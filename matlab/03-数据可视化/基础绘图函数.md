# MATLAB基础绘图函数

## 📋 概述

MATLAB提供了强大的数据可视化功能，能够创建各种类型的图形来展示数据。掌握基础绘图函数是进行数据分析和结果展示的重要技能。本文将详细介绍MATLAB中常用的绘图函数和技巧。

## 📈 二维线图

### 基本线图绘制

```matlab
% 创建基本数据
x = 0:0.1:2*pi;
y1 = sin(x);
y2 = cos(x);
y3 = sin(x) .* cos(x);

% 基本plot函数
figure('Name', '基本线图', 'Position', [100, 100, 800, 600]);

% 单条曲线
subplot(2, 2, 1);
plot(x, y1);
title('正弦函数 y = sin(x)');
xlabel('x');
ylabel('y');
grid on;

% 多条曲线
subplot(2, 2, 2);
plot(x, y1, x, y2, x, y3);
title('多条曲线');
xlabel('x');
ylabel('y');
legend('sin(x)', 'cos(x)', 'sin(x)cos(x)', 'Location', 'best');
grid on;

% 自定义线型和颜色
subplot(2, 2, 3);
plot(x, y1, 'r-', 'LineWidth', 2);    % 红色实线
hold on;
plot(x, y2, 'b--', 'LineWidth', 1.5); % 蓝色虚线
plot(x, y3, 'g:', 'LineWidth', 2);    % 绿色点线
hold off;
title('自定义线型');
xlabel('x');
ylabel('y');
legend('sin(x)', 'cos(x)', 'sin(x)cos(x)');
grid on;

% 数据点标记
subplot(2, 2, 4);
x_sparse = 0:pi/4:2*pi;
y_sparse = sin(x_sparse);
plot(x, y1, 'b-', 'LineWidth', 1);
hold on;
plot(x_sparse, y_sparse, 'ro', 'MarkerSize', 8, 'MarkerFaceColor', 'r');
hold off;
title('数据点标记');
xlabel('x');
ylabel('y');
legend('连续曲线', '数据点', 'Location', 'best');
grid on;

fprintf('基本线图已创建\n');
```

### 线型、颜色和标记样式

```matlab
% 详细的线型和标记演示
figure('Name', '线型标记演示', 'Position', [150, 150, 1000, 700]);

% 线型样式
x = 1:10;
y_base = 1:10;

subplot(2, 3, 1);
line_styles = {'-', '--', ':', '-.'};
line_names = {'实线', '虚线', '点线', '点划线'};
for i = 1:length(line_styles)
    plot(x, y_base + i, line_styles{i}, 'LineWidth', 2);
    hold on;
end
hold off;
title('线型样式');
legend(line_names, 'Location', 'best');
grid on;

% 颜色样式
subplot(2, 3, 2);
colors = {'r', 'g', 'b', 'c', 'm', 'y', 'k'};
color_names = {'红', '绿', '蓝', '青', '品红', '黄', '黑'};
for i = 1:length(colors)
    plot(x, y_base + i, 'Color', colors{i}, 'LineWidth', 2);
    hold on;
end
hold off;
title('颜色样式');
legend(color_names, 'Location', 'best');
grid on;

% 标记样式
subplot(2, 3, 3);
markers = {'o', 's', '^', 'v', 'd', 'p', '*', '+'};
marker_names = {'圆', '方', '上三角', '下三角', '菱形', '五角星', '星号', '加号'};
for i = 1:length(markers)
    plot(x, y_base + i, markers{i}, 'MarkerSize', 8, 'LineWidth', 2);
    hold on;
end
hold off;
title('标记样式');
legend(marker_names, 'Location', 'best');
grid on;

% RGB颜色自定义
subplot(2, 3, 4);
rgb_colors = [
    1, 0, 0;      % 红色
    0, 0.8, 0;    % 深绿色
    0, 0, 1;      % 蓝色
    1, 0.5, 0;    % 橙色
    0.5, 0, 0.5   % 紫色
];
for i = 1:size(rgb_colors, 1)
    plot(x, y_base + i, 'Color', rgb_colors(i, :), 'LineWidth', 3);
    hold on;
end
hold off;
title('RGB自定义颜色');
grid on;

% 组合样式
subplot(2, 3, 5);
plot(x, sin(x), 'ro-', 'LineWidth', 2, 'MarkerSize', 8, 'MarkerFaceColor', 'y');
hold on;
plot(x, cos(x), 'bs--', 'LineWidth', 2, 'MarkerSize', 6, 'MarkerFaceColor', 'c');
hold off;
title('组合样式');
legend('sin(x)', 'cos(x)');
grid on;

% 半透明效果
subplot(2, 3, 6);
h1 = plot(x, y_base, 'r-', 'LineWidth', 8);
hold on;
h2 = plot(x, y_base + 2, 'b-', 'LineWidth', 8);
% 设置透明度（需要较新版本的MATLAB）
try
    h1.Color(4) = 0.5; % 50%透明度
    h2.Color(4) = 0.7; % 30%透明度
catch
    % 旧版本MATLAB的替代方法
    set(h1, 'Color', [1, 0, 0, 0.5]);
    set(h2, 'Color', [0, 0, 1, 0.7]);
end
hold off;
title('透明度效果');
grid on;

fprintf('线型标记演示已创建\n');
```

## 📊 散点图和气泡图

### 散点图绘制

```matlab
% 散点图演示
figure('Name', '散点图演示', 'Position', [200, 200, 1000, 600]);

% 基本散点图
subplot(2, 3, 1);
n = 50;
x = randn(n, 1);
y = 2*x + randn(n, 1);
scatter(x, y);
title('基本散点图');
xlabel('X变量');
ylabel('Y变量');
grid on;

% 带颜色映射的散点图
subplot(2, 3, 2);
x = rand(100, 1) * 10;
y = rand(100, 1) * 10;
c = x + y;  % 颜色数据
scatter(x, y, 50, c, 'filled');
colorbar;
title('颜色映射散点图');
xlabel('X');
ylabel('Y');

% 不同大小的散点图
subplot(2, 3, 3);
x = rand(30, 1) * 10;
y = rand(30, 1) * 10;
sizes = rand(30, 1) * 200 + 50;  % 大小数据
scatter(x, y, sizes, 'r', 'filled', 'MarkerEdgeColor', 'k');
title('变大小散点图');
xlabel('X');
ylabel('Y');

% 分组散点图
subplot(2, 3, 4);
n_group = 20;
group1_x = randn(n_group, 1) + 2;
group1_y = randn(n_group, 1) + 2;
group2_x = randn(n_group, 1) - 2;
group2_y = randn(n_group, 1) - 1;
group3_x = randn(n_group, 1);
group3_y = randn(n_group, 1) - 2;

scatter(group1_x, group1_y, 60, 'r', 'filled');
hold on;
scatter(group2_x, group2_y, 60, 'b', 'filled');
scatter(group3_x, group3_y, 60, 'g', 'filled');
hold off;
title('分组散点图');
xlabel('X');
ylabel('Y');
legend('组1', '组2', '组3');
grid on;

% 三维散点图
subplot(2, 3, 5);
n = 100;
x = randn(n, 1);
y = randn(n, 1);
z = x.^2 + y.^2 + randn(n, 1) * 0.5;
scatter3(x, y, z, 50, z, 'filled');
colorbar;
title('三维散点图');
xlabel('X');
ylabel('Y');
zlabel('Z');
view(45, 30);

% 气泡图
subplot(2, 3, 6);
countries = {'中国', '美国', '印度', '日本', '德国'};
gdp = [14.3, 21.4, 2.9, 5.1, 4.2];  % GDP(万亿美元)
population = [1439, 331, 1380, 125, 83]; % 人口(百万)
bubble_size = gdp * 20;  % 气泡大小

colors = [1,0,0; 0,0,1; 0,1,0; 1,1,0; 1,0,1]; % 自定义颜色

for i = 1:length(countries)
    scatter(gdp(i), population(i), bubble_size(i), colors(i,:), 'filled', ...
            'MarkerEdgeColor', 'k', 'LineWidth', 1.5);
    hold on;
    text(gdp(i), population(i), countries{i}, 'HorizontalAlignment', 'center');
end
hold off;
title('国家GDP vs 人口气泡图');
xlabel('GDP (万亿美元)');
ylabel('人口 (百万)');
grid on;

fprintf('散点图演示已创建\n');
```

## 📊 柱状图和直方图

### 柱状图绘制

```matlab
% 柱状图演示
figure('Name', '柱状图演示', 'Position', [250, 250, 1200, 800]);

% 基本柱状图
subplot(2, 4, 1);
categories = {'A', 'B', 'C', 'D', 'E'};
values = [23, 45, 56, 78, 32];
bar(values);
set(gca, 'XTickLabel', categories);
title('基本柱状图');
ylabel('数值');
grid on;

% 水平柱状图
subplot(2, 4, 2);
barh(values);
set(gca, 'YTickLabel', categories);
title('水平柱状图');
xlabel('数值');
grid on;

% 分组柱状图
subplot(2, 4, 3);
months = {'1月', '2月', '3月', '4月', '5月', '6月'};
sales_A = [120, 135, 158, 167, 189, 202];
sales_B = [110, 125, 142, 155, 171, 186];
sales_C = [95, 108, 125, 138, 152, 169];

bar_data = [sales_A; sales_B; sales_C]';
bar(bar_data);
set(gca, 'XTickLabel', months);
title('分组柱状图');
ylabel('销售额');
legend('产品A', '产品B', '产品C', 'Location', 'best');
grid on;

% 堆叠柱状图
subplot(2, 4, 4);
bar(bar_data, 'stacked');
set(gca, 'XTickLabel', months);
title('堆叠柱状图');
ylabel('销售额');
legend('产品A', '产品B', '产品C', 'Location', 'best');
grid on;

% 自定义颜色柱状图
subplot(2, 4, 5);
custom_colors = [0.8, 0.2, 0.2; 0.2, 0.8, 0.2; 0.2, 0.2, 0.8; 
                 0.8, 0.8, 0.2; 0.8, 0.2, 0.8];
h = bar(values);
h.FaceColor = 'flat';
h.CData = custom_colors;
set(gca, 'XTickLabel', categories);
title('自定义颜色');
ylabel('数值');
grid on;

% 3D柱状图
subplot(2, 4, 6);
z_data = [1, 2, 3; 4, 5, 6; 7, 8, 9; 10, 11, 12];
bar3(z_data);
title('3D柱状图');
xlabel('X轴');
ylabel('Y轴');
zlabel('Z轴');

% 直方图
subplot(2, 4, 7);
data = randn(1000, 1);
histogram(data, 30);
title('直方图');
xlabel('数值');
ylabel('频数');
grid on;

% 概率密度直方图
subplot(2, 4, 8);
histogram(data, 30, 'Normalization', 'pdf');
hold on;
% 叠加理论正态分布曲线
x_theory = -4:0.1:4;
y_theory = normpdf(x_theory, 0, 1);
plot(x_theory, y_theory, 'r-', 'LineWidth', 2);
hold off;
title('概率密度直方图');
xlabel('数值');
ylabel('概率密度');
legend('数据', '理论分布');
grid on;

fprintf('柱状图演示已创建\n');
```

### 饼图和极坐标图

```matlab
% 饼图和极坐标图演示
figure('Name', '饼图和极坐标图', 'Position', [300, 300, 1000, 600]);

% 基本饼图
subplot(2, 3, 1);
pie_data = [30, 25, 20, 15, 10];
pie_labels = {'A类', 'B类', 'C类', 'D类', '其他'};
pie(pie_data, pie_labels);
title('基本饼图');

% 突出显示饼图
subplot(2, 3, 2);
explode = [1, 0, 0, 1, 0];  % 突出显示第1和第4个扇形
pie(pie_data, explode, pie_labels);
title('突出显示饼图');

% 3D饼图
subplot(2, 3, 3);
pie3(pie_data, explode, pie_labels);
title('3D饼图');

% 极坐标线图
subplot(2, 3, 4);
theta = 0:0.01:2*pi;
rho = sin(3*theta);
polarplot(theta, rho);
title('极坐标线图 r=sin(3θ)');

% 极坐标散点图
subplot(2, 3, 5);
theta_scatter = rand(50, 1) * 2 * pi;
rho_scatter = rand(50, 1);
polarscatter(theta_scatter, rho_scatter, 50, theta_scatter, 'filled');
title('极坐标散点图');
colorbar;

% 玫瑰图（极坐标直方图）
subplot(2, 3, 6);
theta_hist = randn(1000, 1) * pi/4 + pi/2;  % 集中在90度附近
polarhistogram(theta_hist, 20);
title('玫瑰图');

fprintf('饼图和极坐标图演示已创建\n');
```

## 🎨 图形属性自定义

### 坐标轴设置

```matlab
% 坐标轴设置演示
figure('Name', '坐标轴设置', 'Position', [350, 350, 1200, 800]);

x = 0:0.1:10;
y = exp(-x/3) .* sin(2*x);

% 基本坐标轴设置
subplot(2, 3, 1);
plot(x, y);
xlim([0, 8]);
ylim([-0.5, 1]);
title('基本坐标轴设置');
xlabel('时间 (s)');
ylabel('幅度');
grid on;

% 对数坐标轴
subplot(2, 3, 2);
x_log = logspace(0, 3, 100);  % 1到1000的对数间隔
y_log = 1./x_log;
loglog(x_log, y_log);
title('双对数坐标');
xlabel('X (对数刻度)');
ylabel('Y (对数刻度)');
grid on;

% 半对数坐标
subplot(2, 3, 3);
x_semi = 0:0.1:5;
y_semi = exp(x_semi);
semilogy(x_semi, y_semi);
title('半对数坐标');
xlabel('X (线性刻度)');
ylabel('Y (对数刻度)');
grid on;

% 自定义刻度
subplot(2, 3, 4);
plot(x, y);
xticks(0:2:10);
xticklabels({'开始', '2s', '4s', '6s', '8s', '结束'});
yticks(-0.5:0.25:1);
title('自定义刻度标签');
grid on;

% 双Y轴
subplot(2, 3, 5);
yyaxis left;
plot(x, y);
ylabel('左Y轴', 'Color', 'b');
yyaxis right;
plot(x, x.^0.5);
ylabel('右Y轴', 'Color', 'r');
xlabel('X轴');
title('双Y轴图');
grid on;

% 坐标轴样式
subplot(2, 3, 6);
plot(x, y);
set(gca, 'XColor', 'r', 'YColor', 'b', 'LineWidth', 2);
set(gca, 'FontSize', 12, 'FontWeight', 'bold');
title('自定义坐标轴样式');
xlabel('X轴', 'FontSize', 14, 'Color', 'r');
ylabel('Y轴', 'FontSize', 14, 'Color', 'b');
box off;  % 去除边框

fprintf('坐标轴设置演示已创建\n');
```

### 图例和标注

```matlab
% 图例和标注演示
figure('Name', '图例和标注', 'Position', [400, 400, 1200, 800]);

x = 0:0.1:2*pi;
y1 = sin(x);
y2 = cos(x);
y3 = sin(2*x);

% 图例位置和样式
subplot(2, 3, 1);
plot(x, y1, x, y2, x, y3);
legend('sin(x)', 'cos(x)', 'sin(2x)', 'Location', 'best');
title('自动图例位置');
grid on;

subplot(2, 3, 2);
plot(x, y1, x, y2, x, y3);
legend('sin(x)', 'cos(x)', 'sin(2x)', 'Location', 'northeastoutside');
title('图例在外部');
grid on;

% 自定义图例样式
subplot(2, 3, 3);
plot(x, y1, x, y2, x, y3);
lg = legend('sin(x)', 'cos(x)', 'sin(2x)', 'Location', 'northeast');
lg.FontSize = 12;
lg.FontWeight = 'bold';
lg.TextColor = 'blue';
lg.EdgeColor = 'red';
lg.LineWidth = 2;
title('自定义图例样式');
grid on;

% 文本标注
subplot(2, 3, 4);
plot(x, y1);
hold on;
% 找到最大值点
[max_val, max_idx] = max(y1);
plot(x(max_idx), max_val, 'ro', 'MarkerSize', 8, 'MarkerFaceColor', 'r');
text(x(max_idx), max_val, sprintf('  最大值: (%.2f, %.2f)', x(max_idx), max_val), ...
     'FontSize', 12, 'Color', 'red');
hold off;
title('文本标注');
grid on;

% 箭头标注
subplot(2, 3, 5);
plot(x, y1);
hold on;
annotation('arrow', [0.7, 0.65], [0.3, 0.35], 'Color', 'red', 'LineWidth', 2);
annotation('textbox', [0.65, 0.25, 0.1, 0.05], 'String', '下降段', ...
           'EdgeColor', 'none', 'FontSize', 12, 'Color', 'red');
hold off;
title('箭头标注');
grid on;

% 多种标注组合
subplot(2, 3, 6);
plot(x, y1, 'b-', 'LineWidth', 2);
hold on;

% 标记特殊点
special_points = [pi/2, pi, 3*pi/2];
for i = 1:length(special_points)
    xp = special_points(i);
    yp = sin(xp);
    plot(xp, yp, 'ro', 'MarkerSize', 8, 'MarkerFaceColor', 'r');
    if i == 1
        text(xp, yp+0.2, 'π/2', 'HorizontalAlignment', 'center', 'FontSize', 12);
    elseif i == 2
        text(xp, yp-0.2, 'π', 'HorizontalAlignment', 'center', 'FontSize', 12);
    else
        text(xp, yp+0.2, '3π/2', 'HorizontalAlignment', 'center', 'FontSize', 12);
    end
end

% 添加垂直参考线
for xp = special_points
    line([xp, xp], [-1.2, 1.2], 'Color', 'k', 'LineStyle', '--', 'Alpha', 0.5);
end

hold off;
ylim([-1.2, 1.2]);
title('综合标注示例');
xlabel('x');
ylabel('sin(x)');
grid on;

fprintf('图例和标注演示已创建\n');
```

## 🎭 子图和多图布局

### 子图布局

```matlab
% 子图布局演示
figure('Name', '子图布局', 'Position', [450, 450, 1400, 900]);

% 规则子图布局
x = 0:0.1:2*pi;

% 2x2布局
subplot(3, 4, 1);
plot(x, sin(x));
title('sin(x)');

subplot(3, 4, 2);
plot(x, cos(x));
title('cos(x)');

subplot(3, 4, 3);
plot(x, tan(x));
ylim([-5, 5]);
title('tan(x)');

subplot(3, 4, 4);
plot(x, exp(-x));
title('exp(-x)');

% 跨列子图
subplot(3, 4, [5, 6]);
plot(x, sin(x), x, cos(x), x, sin(x).*cos(x));
legend('sin(x)', 'cos(x)', 'sin(x)cos(x)');
title('跨列子图');

% 跨行子图
subplot(3, 4, [7; 11]);
[X, Y] = meshgrid(-2:0.1:2);
Z = X.*exp(-X.^2 - Y.^2);
contour(X, Y, Z, 20);
title('跨行子图 - 等高线');
colorbar;

% 剩余子图
subplot(3, 4, 8);
pie([30, 25, 20, 15, 10]);
title('饼图');

subplot(3, 4, [9, 10]);
bar(rand(5, 3));
title('柱状图');
legend('系列1', '系列2', '系列3');

subplot(3, 4, 12);
theta = 0:0.01:2*pi;
rho = sin(3*theta);
polarplot(theta, rho);
title('极坐标图');

fprintf('子图布局演示已创建\n');
```

### 高级布局技术

```matlab
% 高级布局技术
figure('Name', '高级布局技术', 'Position', [500, 500, 1400, 900]);

% 使用tiledlayout（R2019b+新功能）
try
    % 创建tiled layout
    t = tiledlayout(3, 4, 'TileSpacing', 'compact', 'Padding', 'compact');
    
    % 占用单个位置
    nexttile;
    plot(rand(10, 1));
    title('位置1');
    
    nexttile;
    scatter(rand(20, 1), rand(20, 1));
    title('位置2');
    
    % 占用多个位置
    nexttile([1, 2]);  % 占用1行2列
    x = 0:0.1:2*pi;
    plot(x, sin(x), x, cos(x));
    title('跨列图');
    legend('sin(x)', 'cos(x)');
    
    nexttile;
    bar(rand(5, 1));
    title('位置5');
    
    nexttile([2, 1]);  % 占用2行1列
    y = rand(50, 1);
    histogram(y);
    title('跨行直方图');
    
    % 继续填充其他位置
    for i = 7:12
        nexttile;
        plot(rand(10, 1), 'o-');
        title(sprintf('位置%d', i-2));
    end
    
    % 添加总标题
    title(t, 'TiledLayout 高级布局示例');
    
    fprintf('TiledLayout布局已创建\n');
    
catch
    % 如果不支持tiledlayout，使用传统subplot方法
    fprintf('您的MATLAB版本不支持tiledlayout，使用subplot方法\n');
    
    % 创建不规则子图布局
    subplot(3, 3, 1);
    plot(rand(10, 1));
    title('子图1');
    
    subplot(3, 3, [2, 3]);
    plot(0:0.1:2*pi, sin(0:0.1:2*pi));
    title('跨列子图');
    
    subplot(3, 3, [4; 7]);
    bar(rand(5, 1));
    title('跨行子图');
    
    subplot(3, 3, 5);
    scatter(rand(20, 1), rand(20, 1));
    title('散点图');
    
    subplot(3, 3, 6);
    pie(rand(4, 1));
    title('饼图');
    
    subplot(3, 3, [8, 9]);
    x = rand(30, 1);
    y = rand(30, 1);
    z = rand(30, 1);
    scatter3(x, y, z, 50, z, 'filled');
    title('3D散点图');
end
```

## 🎯 实际应用案例

### 数据分析可视化综合案例

```matlab
% 综合数据分析可视化案例
% 模拟股票价格分析

% 生成模拟股票数据
days = 1:252;  % 一年的交易日
initial_price = 100;
returns = cumsum(randn(252, 1) * 0.02);  % 累积收益率
stock_price = initial_price * exp(returns);

% 生成交易量数据
volume = 1000000 + 500000 * rand(252, 1);

% 生成移动平均线
ma_20 = movmean(stock_price, 20);  % 20日移动平均
ma_50 = movmean(stock_price, 50);  % 50日移动平均

% 创建综合分析图表
figure('Name', '股票分析仪表板', 'Position', [100, 100, 1600, 1000]);

% 主价格图表
subplot(3, 2, [1, 2]);
plot(days, stock_price, 'b-', 'LineWidth', 1.5);
hold on;
plot(days, ma_20, 'r--', 'LineWidth', 1);
plot(days, ma_50, 'g--', 'LineWidth', 1);

% 标记重要点位
[max_price, max_day] = max(stock_price);
[min_price, min_day] = min(stock_price);
plot(max_day, max_price, 'ro', 'MarkerSize', 8, 'MarkerFaceColor', 'r');
plot(min_day, min_price, 'go', 'MarkerSize', 8, 'MarkerFaceColor', 'g');

text(max_day, max_price + 2, sprintf('最高: %.2f', max_price), ...
     'HorizontalAlignment', 'center', 'FontSize', 10);
text(min_day, min_price - 2, sprintf('最低: %.2f', min_price), ...
     'HorizontalAlignment', 'center', 'FontSize', 10);

hold off;
title('股票价格走势图', 'FontSize', 16, 'FontWeight', 'bold');
xlabel('交易日');
ylabel('价格 ($)');
legend('股价', '20日均线', '50日均线', '最高点', '最低点', 'Location', 'best');
grid on;

% 交易量图表
subplot(3, 2, [3, 4]);
bar(days, volume/1000000, 'FaceColor', [0.7, 0.7, 0.7], 'EdgeColor', 'none');
title('交易量', 'FontSize', 14);
xlabel('交易日');
ylabel('交易量 (百万股)');
grid on;

% 收益率分布直方图
subplot(3, 2, 5);
daily_returns = diff(log(stock_price)) * 100;  % 日收益率（百分比）
histogram(daily_returns, 30, 'FaceColor', 'blue', 'FaceAlpha', 0.7);
hold on;

% 叠加正态分布拟合
mu = mean(daily_returns);
sigma = std(daily_returns);
x_norm = linspace(min(daily_returns), max(daily_returns), 100);
y_norm = normpdf(x_norm, mu, sigma);
y_norm = y_norm * length(daily_returns) * (max(daily_returns) - min(daily_returns)) / 30;
plot(x_norm, y_norm, 'r-', 'LineWidth', 2);
hold off;

title('日收益率分布', 'FontSize', 14);
xlabel('日收益率 (%)');
ylabel('频次');
legend('实际分布', '正态分布拟合', 'Location', 'best');
grid on;

% 风险指标表格
subplot(3, 2, 6);
axis off;

% 计算风险指标
total_return = (stock_price(end) / stock_price(1) - 1) * 100;
annual_volatility = std(daily_returns) * sqrt(252);
max_drawdown = max(cummax(stock_price) - stock_price) / max(cummax(stock_price)) * 100;
sharpe_ratio = (mean(daily_returns) * 252) / (std(daily_returns) * sqrt(252));

% 创建表格数据
risk_metrics = {
    '指标', '数值';
    '总收益率', sprintf('%.2f%%', total_return);
    '年化波动率', sprintf('%.2f%%', annual_volatility);
    '最大回撤', sprintf('%.2f%%', max_drawdown);
    '夏普比率', sprintf('%.3f', sharpe_ratio);
    '最终价格', sprintf('$%.2f', stock_price(end));
    '最高价格', sprintf('$%.2f', max_price);
    '最低价格', sprintf('$%.2f', min_price)
};

% 显示表格
text(0.1, 0.9, '风险指标汇总', 'FontSize', 16, 'FontWeight', 'bold');
for i = 1:size(risk_metrics, 1)
    if i == 1
        text(0.1, 0.85 - (i-1)*0.1, risk_metrics{i,1}, 'FontSize', 12, 'FontWeight', 'bold');
        text(0.6, 0.85 - (i-1)*0.1, risk_metrics{i,2}, 'FontSize', 12, 'FontWeight', 'bold');
    else
        text(0.1, 0.85 - (i-1)*0.1, risk_metrics{i,1}, 'FontSize', 11);
        text(0.6, 0.85 - (i-1)*0.1, risk_metrics{i,2}, 'FontSize', 11);
    end
end

fprintf('股票分析仪表板已创建\n');
fprintf('总收益率: %.2f%%\n', total_return);
fprintf('年化波动率: %.2f%%\n', annual_volatility);
fprintf('最大回撤: %.2f%%\n', max_drawdown);
fprintf('夏普比率: %.3f\n', sharpe_ratio);
```

---

> **基础绘图总结**：MATLAB的绘图功能非常强大，从简单的线图到复杂的多子图布局都能轻松实现。掌握基础绘图函数、图形属性设置和布局技术，能够帮助我们创建专业、美观的数据可视化图表，有效传达数据背后的信息和洞察。
