# 7. 栈（Stack）基础与实现

本章讲解栈的基本概念、数组和链表实现及典型应用。

---

## 7.1 栈的基本概念

- 栈是一种后进先出（LIFO）的线性结构。
- 只允许在一端进行插入和删除操作。
- 常见操作：push（入栈）、pop（出栈）、top（取栈顶）、isEmpty（判空）。

## 7.2 数组实现栈

```c
#define MAX_SIZE 100
int stack[MAX_SIZE];
int top = -1;
void push(int x) { stack[++top] = x; }
int pop() { return stack[top--]; }
int getTop() { return stack[top]; }
int isEmpty() { return top == -1; }
```

## 7.3 链表实现栈

```c
typedef struct Node {
    int data;
    struct Node* next;
} Node;
Node* top = NULL;
void push(int x) {
    Node* node = malloc(sizeof(Node));
    node->data = x;
    node->next = top;
    top = node;
}
int pop() {
    int val = top->data;
    Node* tmp = top;
    top = top->next;
    free(tmp);
    return val;
}
int isEmpty() { return top == NULL; }
```

## 7.4 栈的典型应用

- 括号匹配
- 表达式求值
- 递归函数调用
- 数据反转
**例：用栈实现字符串反转**

```c
#include <stdio.h>
#include <string.h>
#define MAX_SIZE 100
int stack[MAX_SIZE];
int top = -1;
void push(int x) { stack[++top] = x; }
int pop() { return stack[top--]; }

void reverse(char* str) {
    int len = strlen(str);
    for (int i = 0; i < len; i++) push(str[i]);
    for (int i = 0; i < len; i++) str[i] = pop();
}

int main() {
    char s[] = "hello";
    reverse(s);
    printf("%s\n", s); // 输出：olleh
    return 0;
}
```

---

> 栈是算法和系统实现中的基础结构，掌握其原理和实现对编程能力提升非常重要。
