# 1. 什么是数据结构

本章介绍数据结构的基本概念、作用及抽象数据类型（ADT）与实现的区别。

---

## 1.1 数据结构的定义

数据结构（Data Structure）是指一组数据的组织、管理和存储方式，旨在高效地访问和修改数据。

- 数据结构不仅描述了数据的存储方式，还规定了数据之间的逻辑关系。
- 常见的数据结构有：数组、链表、栈、队列、树、图、哈希表等。

## 1.2 为什么要学习数据结构

- 现实世界中的问题往往需要高效地存储、查找、插入、删除和处理大量数据。
- 合理选择和设计数据结构，可以极大提升程序的性能和可维护性。
- 数据结构是算法设计的基础，很多高效算法都依赖于合适的数据结构。

## 1.3 抽象数据类型（ADT）

- 抽象数据类型（Abstract Data Type, ADT）是一种数学模型，定义了一组数据及其相关操作，而不关心具体实现。
- 例如：栈的ADT只规定了“入栈、出栈、判空”等操作，而不规定用数组还是链表实现。

### ADT与实现的区别

- ADT关注“做什么”，实现关注“怎么做”。
- 同一个ADT可以有多种实现方式（如栈可以用数组或链表实现）。

**例子：**

- 栈（Stack）ADT：
  - 操作：push（入栈）、pop（出栈）、top（取栈顶）、isEmpty（判空）等。
  - 实现方式：
    - 用数组实现（顺序栈）：

      ```c
      #define MAX_SIZE 100
      int stack[MAX_SIZE];
      int top = -1;
      void push(int x) { stack[++top] = x; }
      int pop() { return stack[top--]; }
      int isEmpty() { return top == -1; }
      ```

    - 用链表实现（链式栈）：

      ```c
      typedef struct Node {
          int data;
          struct Node* next;
      } Node;
      Node* top = NULL;
      void push(int x) {
          Node* node = malloc(sizeof(Node));
          node->data = x;
          node->next = top;
          top = node;
      }
      int pop() {
          int val = top->data;
          Node* tmp = top;
          top = top->next;
          free(tmp);
          return val;
      }
      int isEmpty() { return top == NULL; }
      ```

- 队列（Queue）ADT：
  - 操作：enqueue（入队）、dequeue（出队）、front（取队头）、isEmpty（判空）等。
  - 实现方式：
    - 用循环数组实现（顺序队列）：

      ```c
      #define MAX_SIZE 100
      int queue[MAX_SIZE];
      int front = 0, rear = 0;
      void enqueue(int x) { queue[rear++ % MAX_SIZE] = x; }
      int dequeue() { return queue[front++ % MAX_SIZE]; }
      int isEmpty() { return front == rear; }
      ```

    - 用链表实现（链式队列）：

      ```c
      typedef struct Node {
          int data;
          struct Node* next;
      } Node;
      Node *front = NULL, *rear = NULL;
      void enqueue(int x) {
          Node* node = malloc(sizeof(Node));
          node->data = x; node->next = NULL;
          if (rear) rear->next = node;
          else front = node;
          rear = node;
      }
      int dequeue() {
          int val = front->data;
          Node* tmp = front;
          front = front->next;
          if (!front) rear = NULL;
          free(tmp);
          return val;
      }
      int isEmpty() { return front == NULL; }
      ```

- 字典（Map/Dictionary）ADT：
  - 操作：插入、查找、删除等。
  - 实现方式：
    - 用哈希表实现（HashMap）：

      ```c
      #define TABLE_SIZE 100
      typedef struct Entry {
          int key, value;
          struct Entry* next;
      } Entry;
      Entry* table[TABLE_SIZE];
      int hash(int key) { return key % TABLE_SIZE; }
      void insert(int key, int value) {
          int idx = hash(key);
          Entry* node = malloc(sizeof(Entry));
          node->key = key; node->value = value; node->next = table[idx];
          table[idx] = node;
      }
      int find(int key) {
          int idx = hash(key);
          Entry* node = table[idx];
          while (node) {
              if (node->key == key) return node->value;
              node = node->next;
          }
          return -1; // not found
      }
      ```

    - 用二叉搜索树实现（如红黑树、AVL树）：
      （略，见树结构章节）

## 1.4 数据结构与算法的关系

- 数据结构是算法的基础，算法是操作数据结构的方法。
- 优秀的程序=合适的数据结构+高效的算法。

## 1.5 常见数据结构举例

| 类型   | 典型操作           | 应用场景           |
|--------|--------------------|--------------------|
| 数组   | 随机访问、遍历     | 顺序存储、查表     |
| 链表   | 插入、删除         | 动态内存管理       |
| 栈     | 后进先出（LIFO）   | 表达式求值、递归   |
| 队列   | 先进先出（FIFO）   | 任务调度、缓冲区   |
| 树     | 层次结构、查找     | 文件系统、索引     |
| 图     | 路径、连通性       | 网络、地图         |
| 哈希表 | 快速查找           | 唯一性判断、缓存   |

---

> 总结：数据结构是编程的基石，掌握数据结构有助于写出高效、优雅、易维护的代码。
